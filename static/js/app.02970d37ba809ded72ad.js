webpackJsonp([1],{"1VFn":function(t,e){},"7zck":function(t,e){},D7Bc:function(t,e){},Gu0b:function(t,e,a){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{attrs:{absolute:"",color:"grey darken-3",height:"auto"}},[e("v-flex",{attrs:{"py-3":"","text-xs-center":"","white--text":"",xs12:""}},[this._v("\n    ©"+this._s((new Date).getFullYear())+" — "),e("strong",[this._v("Matthew O'Brien")])])],1)},staticRenderFns:[]};e.a=n},Hoxl:function(t,e){},IX01:function(t,e){},K6t1:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"grey darken-3",attrs:{fixed:""}},[a("v-toolbar-title",{staticClass:"mr-4"},[t._v("\n        Contract Manager\n    ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"HelloWorld"})}}},[t._v("\n            Home\n        ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"Calendar"})}}},[t._v("\n            Calendar\n        ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"Contracts"})}}},[t._v("\n            Contracts\n        ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"Vendors"})}}},[t._v("\n            Vendors\n        ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"Users"})}}},[t._v("\n            "+t._s(t.displayName)+"\n        ")]):t._e(),t._v(" "),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.logout()}}},[t._v("\n            Logout\n        ")]):t._e()],1),t._v(" "),t.$store.state.isUserLoggedIn?a("v-menu",{staticClass:"hidden-md-and-up"},[a("v-toolbar-side-icon",{attrs:{slot:"activator",id:"menu"},slot:"activator"}),t._v(" "),a("v-list",[a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"HelloWorld"})}}},[a("v-list-tile-title",[t._v("Home")])],1),t._v(" "),a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"Calendar"})}}},[a("v-list-tile-title",[t._v("Calendar")])],1),t._v(" "),a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"Contracts"})}}},[a("v-list-tile-title",[t._v("Contracts")])],1),t._v(" "),a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"Vendors"})}}},[a("v-list-tile-title",[t._v("Vendors")])],1),t._v(" "),a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"Users"})}}},[a("v-list-tile-title",[t._v(t._s(t.displayName))])],1),t._v(" "),a("v-list-tile",{on:{click:function(e){return t.logout()}}},[a("v-list-tile-title",[t._v("Logout")])],1)],1)],1):t._e()],1)},staticRenderFns:[]};var s={name:"App",components:{PageHeader:a("VU/8")({computed:{displayName:function(){return this.$store.state.user}},methods:{navigateTo:function(t){this.$router.push(t)},logout:function(){this.$store.dispatch("setAdmin",null),this.$store.dispatch("setUser","Username"),this.$store.dispatch("setToken",null),this.$store.dispatch("setAdminToken",null),this.$router.push({name:"Login"})}}},r,!1,function(t){a("D7Bc")},"data-v-218195ee",null).exports,PageFooter:a("TVmP").default}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("PageHeader"),this._v(" "),e("main",{attrs:{id:"main"}},[e("v-container",{attrs:{fluid:""}},[e("router-view")],1)],1),this._v(" "),e("PageFooter")],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(t){a("1VFn")},null,null).exports,c=a("/ocq"),l=a("woOf"),d=a.n(l),u=a("Xxa5"),v=a.n(u),m=a("exGp"),p=a.n(m),f=a("bOdI"),h=a.n(f),_=a("UlOv"),x={extends:_.b,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null,borderSkipped:"bottom"}},mounted:function(){this.renderChart(this.chartdata,this.options)}},g={extends:_.a,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null,borderSkipped:"bottom"}},mounted:function(){this.renderChart(this.chartdata,this.options)}},k={extends:_.a,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null,borderSkipped:"bottom"}},mounted:function(){this.renderChart(this.chartdata,this.options)}},y=a("mtWM"),b=a.n(y),C=function(){return b.a.create({baseURL:"http://localhost:8081/"})},I=function(t){return C().post("archpaymentchartdata",t)},N=function(t){return C().post("editcontracts",t)},w=function(t){return C().post("addcontracts",t)},D=function(t){return C().post("renewcontracts",t)},j=function(t){return C().post("archpaymenthistory",t)},A=function(t){return C().post("archivecontract",t)},$=function(t){return C().post("unarchivecontract",t)},S=function(t){return C().post("deletearchive",t)},U=function(t){return C().post("getcurrencys",t)},T=function(t){return C().post("adminnotes",t)},F=a("WybQ"),P=a.n(F),O={components:{DoughChart:x,BarChart:g,RadarChart:k},data:function(){var t;return t={date:(new Date).toISOString().substr(0,10),menu:!1,contractLoaded:!1,vendorLoaded:!1,companyLoaded:!1,loading:!0,contractChartData:null,vendorChartData:null,companyChartData:null,dialog:!1,totalContracts:0,contracts:[],vendors:[],currencys:[],company:[],err:"",period:"90",division:null,periods:["30 Days","90 Days","365 Days"]},h()(t,"date",(new Date).toISOString().substr(0,10)),h()(t,"rules",{required:function(t){return!!t||"Required."}}),h()(t,"renewal",["Monthly","Annually","3 Year","Custom"]),h()(t,"options",{maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}),h()(t,"compOptions",{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}),h()(t,"pieOptions",{maintainAspectRatio:!1,scales:{yAxes:[{display:0,ticks:{beginAtZero:!0},gridLines:{display:!1}}]}}),h()(t,"headers",[{text:"Capex ID",value:"capexId",align:"center",sortable:!1},{text:"PO Number",value:"name",align:"center",sortable:!1},{text:"Company",value:"companyName",align:"center",sortable:!1},{text:"Primary Contact",value:"primaryContact",align:"center",sortable:!1},{text:"Department",value:"departmentName",align:"center",sortable:!1},{text:"Vendor",value:"vendorName",align:"center",sortable:!1},{text:"Renewal",value:"renewal",align:"center",sortable:!1},{text:"Exp Date",value:"expDate",align:"center",sortable:!1},{text:"Days Left",value:"count",align:"center",sortable:!1},{text:"Action",value:"Action",align:"center",sortable:!1}]),h()(t,"editedIndex",-1),h()(t,"editedItem",{capexId:"",poNumber:"",cost:"",renewal:"",vendorName:"",currency:"",expDate:""}),h()(t,"defaultItem",{capexId:"",poNumber:"",cost:"",renewal:"",vendorName:"",currency:"",expDate:""}),t},created:function(){this.getContracts(),this.getContractData(),this.getVendorData(),this.getCompanyData(),this.getCurrency(),this.getVendors(),this.getCompanys()},watch:{period:function(){this.contracts=[],this.getContracts()},division:function(){this.contracts=[],this.getContracts()}},methods:{getContracts:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0;try{t.contracts=[{contractId:1,capexId:1,poNumber:"PO123",companyName:"U of W",primaryContact:"Symere Woods",departmentName:"IT",vendorName:"Apple",renewal:"Annually",expDate:"2019-09-28",count:-23,cost:23.23,currency:"CAD",contractDes:"Test",color:"red lighten-2"},{contractId:2,capexId:2,poNumber:"PO321",companyName:"U of W",primaryContact:"John Doe",departmentName:"IT",vendorName:"Samsung",renewal:"Annually",expDate:"2019-12-23",count:-96,cost:56.34,currency:"CAD",contractDes:"Test",color:"yellow lighten-2"},{contractId:3,capexId:3,poNumber:"PO234",companyName:"U of W",primaryContact:"Bobby",departmentName:"IT",vendorName:"Razer",renewal:"Annually",expDate:"2020-01-15",count:-243,cost:1245,currency:"CAD",contractDes:"Test",color:"green lighten-2"}],setTimeout(function(){t.loading=!1},1e3)}catch(e){t.error=e.response.data.error,t.loading=!1}case 2:case"end":return e.stop()}},e,t)}))()},getCurrency:function(){var t=this;return p()(v.a.mark(function e(){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U({token:t.$store.state.token});case 3:for(n in(a=e.sent).data)t.currencys.push(a.data[n].name);e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},getVendors:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0;try{t.vendors=["Vendor"],setTimeout(function(){t.loading=!1},1e3)}catch(e){t.error=e.response.data.error,t.loading=!1}case 2:case"end":return e.stop()}},e,t)}))()},getCompanys:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.company=["Company"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getContractData:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.contractLoaded=!1;try{a=["Apple","Samsung","Razer"],n=[2,4,3],r=t.randomColors(3),t.contractChartData={labels:a,datasets:[{label:["Number of Contracts"],data:n,backgroundColor:r}]},t.contractLoaded=!0}catch(t){console.error(t)}case 2:case"end":return e.stop()}},e,t)}))()},getVendorData:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.vendorLoaded=!1;try{a=["Vendor1","Vendor2","Vendor3"],n=[2,3,4],r=t.randomColors(3),t.vendorChartData={labels:a,datasets:[{label:"Contracts Per Vendor",data:n,backgroundColor:r}]},t.vendorLoaded=!0}catch(t){console.error(t)}case 2:case"end":return e.stop()}},e,t)}))()},getCompanyData:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.companyLoaded=!1;try{a=["Company1","Company2","Company3"],n=[2,3,1],r=[0,1,0],t.companyChartData={labels:a,datasets:[{label:"Number of Contracts",data:n,backgroundColor:"rgb(39, 60, 117)"},{label:"Contracts that Expire in Under 90 days",data:r,backgroundColor:"rgb(255, 0, 0)"}]},t.companyLoaded=!0}catch(t){console.error(t)}case 2:case"end":return e.stop()}},e,t)}))()},editItem:function(t){this.editedIndex=this.contracts.indexOf(t),this.editedItem=d()({},t),this.dialog=!0},save:function(){if(this.editedItem.cost=this.editedItem.cost.toString(),this.editedItem.cost.includes(","))this.err="Please remove comma(s) from the cost!";else{this.err="";var t=this.contracts[this.editedIndex].contractId,e=this.contracts[this.editedIndex].expDate;D({token:this.$store.state.token,user:this.$store.state.user,contractId:t,capexId:this.editedItem.capexId,poNumber:this.editedItem.poNumber,renewal:this.editedItem.renewal,cost:parseFloat(this.editedItem.cost),currency:this.editedItem.currency,vendorName:this.editedItem.vendorName,customDate:this.editedItem.expDate,expDate:e}),this.contracts=[],this.getContracts(),this.close()}},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=d()({},t.defaultItem),t.editedIndex=-1},300)},randomColors:function(t){for(var e=[],a=0;a<t;a++)e.push(P()());return e},router:function(t){this.$router.push({name:"Contracts",params:{contractDes:t.contractDes}})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"","fill-height":""}},[a("v-flex",{attrs:{shrink:""}},[a("div",{staticClass:"white elevation-3",attrs:{id:"container"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Home")])],1),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",[a("v-card-title",{staticClass:"justify-center",attrs:{id:"title"}},[a("h2",[t._v("Contracts Per Top 5 Vendors")])]),t._v(" "),a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.vendorLoaded?a("dough-chart",{attrs:{id:"charts",chartdata:t.vendorChartData,options:t.pieOptions}}):t._e()],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",[a("v-card-title",{staticClass:"justify-center",attrs:{id:"title"}},[a("h2",[t._v("Contracts Per Next 6 Months")])]),t._v(" "),a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.contractLoaded?a("bar-chart",{attrs:{id:"charts",chartdata:t.contractChartData,options:t.options}}):t._e()],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",[a("v-card-title",{staticClass:"justify-center",attrs:{id:"title"}},[a("h2",[t._v("Contracts Per Company")])]),t._v(" "),a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.companyLoaded?a("radar-chart",{attrs:{id:"charts",chartdata:t.companyChartData,options:t.compOptions}}):t._e()],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("h2",{attrs:{id:"exp"}},[t._v("Soon to Expire Contracts")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-select",{attrs:{items:t.company,label:"Division","single-line":"",solo:""},model:{value:t.division,callback:function(e){t.division=e},expression:"division"}}),t._v(" "),a("v-select",{attrs:{items:t.periods,label:"Period","single-line":"",solo:""},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.contracts,"total-items":t.totalContracts,loading:t.loading,"hide-actions":"",id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:e.item.color},[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.primaryContact))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewal))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expDate))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(-1*e.item.count))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-btn",{attrs:{color:"info",small:""},on:{click:function(a){return t.router(e.item)}}},[t._v("\n                          more info\n                        ")]),t._v(" "),a("v-btn",{attrs:{color:"error",small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                          renew\n                        ")])],1)])]}}])})],1)],1)],1)],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Renew Contract\n      ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Capex ID",color:"green darken-1"},model:{value:t.editedItem.capexId,callback:function(e){t.$set(t.editedItem,"capexId",e)},expression:"editedItem.capexId"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"PO Number",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.poNumber,callback:function(e){t.$set(t.editedItem,"poNumber",e)},expression:"editedItem.poNumber"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{label:"Vendor",items:t.vendors,color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.vendorName,callback:function(e){t.$set(t.editedItem,"vendorName",e)},expression:"editedItem.vendorName"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Cost",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.cost,callback:function(e){t.$set(t.editedItem,"cost",e)},expression:"editedItem.cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{label:"Currency",items:t.currencys,color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.currency,callback:function(e){t.$set(t.editedItem,"currency",e)},expression:"editedItem.currency"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{label:"Renew",items:t.renewal,color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.renewal,callback:function(e){t.$set(t.editedItem,"renewal",e)},expression:"editedItem.renewal"}})],1),t._v(" "),"Custom"==t.editedItem.renewal?a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{color:"green darken-1",label:"Exp Date",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}],null,!1,1214082815),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",dark:"",color:"green darken-1"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"green darken-1"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"green darken-1"},on:{click:function(e){t.$refs.menu.save(t.date),t.editedItem.expDate=t.date}}},[t._v("OK")])],1)],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"err"},[a("h4",[t._v(t._s(t.err))])])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.close}},[t._v("\n            Cancel\n          ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.save}},[t._v("\n            Renew\n          ")])],1)],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(O,E,!1,function(t){a("mUlC")},"data-v-3b43d7d2",null).exports,z=function(t){return C().post("login",t)},L={data:function(){return{email:"",password:"",error:null,show:!1,loader:null,loading:!1,rules:{required:function(t){return!!t||"Required."}}}},methods:{login:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,z({email:t.email,password:t.password});case 4:a=e.sent,t.$store.dispatch("setAdmin",a.data.admin),t.$store.dispatch("setUser",a.data.user),t.$store.dispatch("setToken",a.data.token),t.$store.dispatch("setAdminToken",a.data.adminToken),t.$router.push({name:"HelloWorld"}),setTimeout(function(){t.loading=!1},1e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),t.error=e.t0.response.data.error,setTimeout(function(){t.loading=!1},1e3);case 17:case"end":return e.stop()}},e,t,[[1,13]])}))()}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":"",id:"login"}},[a("v-flex",{attrs:{grow:""}},[a("div",{staticClass:"white elevation-3"},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Welcome!")])],1),t._v(" "),a("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[a("v-text-field",{attrs:{label:"Username",rules:[t.rules.required],color:"grey darken-3"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("v-text-field",{attrs:{"append-icon":t.show?"visibility":"visibility_off",rules:[t.rules.required],type:t.show?"text":"password",name:"input-10-1",label:"Password",color:"grey darken-3"},on:{"click:append":function(e){t.show=!t.show},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("div",{staticClass:"error",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),a("v-btn",{staticClass:"success",attrs:{color:"green darken-1",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.login()}}},[t._v("\n                        Login\n                    ")])],1)],1)])],1)],1)},staticRenderFns:[]};var q=a("VU/8")(L,H,!1,function(t){a("dzyU")},"data-v-17794a04",null).exports,R=function(t){return C().post("getfiles",t)},W=function(t){return C().post("uploadfile",t)},B=function(t){return C().post("getarchfiles",t)},M=function(t){return C().post("addtocontract",t)},Y=function(t){return C().post("deletearchfiles",t)},G=function(t){return C().post("editdescription",t)},X={components:{LineChart:{extends:_.c,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null,borderSkipped:"bottom",fill:!1}},mounted:function(){this.renderChart(this.chartdata,this.options)}}},data:function(){return{date:(new Date).toISOString().substr(0,10),files:[],curFiles:[],message:"",search:"",hint:"",archiveSearch:"",editedFileId:null,displayArchive:!1,fab:!1,err:"",menu:!1,expand:!1,dialog:!1,dialogNotes:!1,dialogRenew:!1,dialogPDF:!1,dialogArchPDF:!1,dialogFileDes:!1,dialogAdminNotes:!1,contracts:[],currencys:[],archivedContracts:[],loading:!0,loaded:!1,archivedLoading:!0,snackbar:!1,timeout:5e3,newContract:!1,isPrimaryContact:!1,payments:[],archivedPayments:[],users:[],chartData:null,costChartData:null,clickOnContract:"",archived:!1,editing:!1,rules:{required:function(t){return!!t||"Required."}},options:{maintainAspectRatio:!1,filler:!1,legend:{labels:{fontColor:"rgb(255,255,255)"}},scales:{yAxes:[{gridLines:{color:"rgba(255,255,255,0.3)"},ticks:{beginAtZero:!0,fontColor:"rgb(255,255,255)"}}],xAxes:[{gridLines:{color:"rgba(255,255,255,0.3)"},ticks:{fontColor:"rgb(255,255,255)"}}]}},renewal:["Monthly","Annually","3 Year","Custom"],rows:[10,15,20,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],company:[],department:[],vendors:[],headers:[{text:"Capex ID",value:"capexId",align:"center"},{text:"PO Number",value:"poNumber",align:"center"},{text:"Company",value:"companyName",align:"center"},{text:"Primary Contact",value:"primaryContact",align:"center"},{text:"Department",value:"departmentName",align:"center"},{text:"Description",value:"contractDes",align:"center"},{text:"Vendor",value:"vendorName",align:"center"},{text:"Renewal",value:"renewal",align:"center"},{text:"Cost",value:"cost",align:"center"},{text:"Currency",value:"currency",align:"center"},{text:"Exp Date",value:"expDate",align:"center"},{text:"Action",value:"Action",align:"center"}],paymentHeaders:[{text:"Capex ID",value:"capexId",align:"center",sortable:!1},{text:"PO Number",value:"poNumber",align:"center",sortable:!1},{text:"Cost",value:"price",align:"center",sortable:!1},{text:"Currency",value:"currency",align:"center",sortable:!1},{text:"Vendor",value:"vendorName",align:"center",sortable:!1},{text:"End Date",value:"renewalDate",align:"center",sortable:!1},{text:"Renewed By",value:"renewedBy",align:"center",sortable:!1}],fileHeaders:[{text:"File",value:"fileName",align:"center",sortable:!1},{text:"Description",value:"fileDes",align:"center",sortable:!1},{text:"Uploaded By",value:"uploadedBy",align:"center",sortable:!1},{text:"Date",value:"date",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],editedIndex:-1,editedItem:{capexId:"",poNumber:"",companyName:"",departmentName:"",contractDes:"",vendorName:"",renewal:"",cost:"",currency:"",expDate:"",primaryContact:"",contractNotes:"",adminNotes:""},defaultItem:{capexId:"",poNumber:"",companyName:"",departmentName:"",contractDes:"",vendorName:"",renewal:"",cost:"",currency:"",expDate:"",primaryContact:"",contractNotes:"",adminNotes:""},fileDescription:"",fileName:""}},created:function(){this.getContracts(),this.getVendors(),this.getDepartments(),this.getCompanys(),this.getCurrency(),this.getUsers(),this.clickOnContract=this.$route.params.contractDes,this.search=this.clickOnContract},computed:{formTitle:function(){return-1===this.editedIndex?"New Contract":"Edit Contract"},foo:function(){return this.editedItem.renewal}},watch:{dialog:function(t){t||this.close()},foo:function(t){if(this.editing)this.date=this.editedItem.expDate;else if("Monthly"===t){var e=new Date;e.setMonth(e.getMonth()+1),this.date=this.editedItem.expDate=e.toISOString().substr(0,10)}else if("Annually"===t){var a=new Date;a.setFullYear(a.getFullYear()+1),this.date=this.editedItem.expDate=a.toISOString().substr(0,10)}else if("3 Year"===t){var n=new Date;n.setFullYear(n.getFullYear()+3),this.date=this.editedItem.expDate=n.toISOString().substr(0,10)}}},methods:{getContracts:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0;try{t.contracts=[{contractId:1,capexId:1,poNumber:"PO123",companyName:"U of W",primaryContact:"Symere Woods",departmentName:"IT",vendorName:"Apple",renewal:"Annually",expDate:"2019-09-28",count:-23,cost:23.23,currency:"CAD",contractDes:"Test",contractNotes:"Test",adminNotes:"Admin",file:1},{contractId:2,capexId:2,poNumber:"PO321",companyName:"U of W",primaryContact:"John Doe",departmentName:"IT",vendorName:"Samsung",renewal:"Annually",expDate:"2019-12-23",count:-96,cost:56.34,currency:"CAD",contractDes:"Test",contractNotes:"Test",adminNotes:"Admin",file:0},{contractId:3,capexId:3,poNumber:"PO234",companyName:"U of W",primaryContact:"Bobby",departmentName:"IT",vendorName:"Razer",renewal:"Annually",expDate:"2020-01-15",count:-243,cost:1245,currency:"CAD",contractDes:"Test",contractNotes:"Test",adminNotes:"Admin",file:0}],setTimeout(function(){t.loading=!1},1e3)}catch(e){t.error=e.response.data.error,t.loading=!1}case 2:case"end":return e.stop()}},e,t)}))()},getArchivedContracts:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.archivedLoading=!0;try{setTimeout(function(){t.archivedLoading=!1},1e3)}catch(e){t.error=e.response.data.error,t.archivedLoading=!1}case 2:case"end":return e.stop()}},e,t)}))()},getVendors:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.vendors=["Vendor1","Vendor2","Vendor3"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getUsers:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.users=["Username"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getCurrency:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.currencys=["CAD","USD"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getDepartments:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.department=["Department1","Department2","Department3"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getCompanys:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.company=["Company1","Company2","Company3"]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getPaymentData:function(t){var e=this;return p()(v.a.mark(function t(){var a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loaded=!1;try{a=["2019-09-31","2019-10-31"],n=[12.39,17.99],e.chartData={labels:a,datasets:[{label:"Payments Over Time",data:n,backgroundColor:"rgba(155, 89, 182, 0.5)"}]},e.loaded=!0}catch(t){console.error(t)}case 2:case"end":return t.stop()}},t,e)}))()},getArchPaymentData:function(t){var e=this;return p()(v.a.mark(function a(){var n,r,s,o,i,c,l,d,u,m,p;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loaded=!1,a.prev=1,a.next=4,I({token:e.$store.state.token,user:e.$store.state.user,item:t});case 4:for(o in n=a.sent,r=[],s=[],n.data)r.push([n.data[o].labels]),s.push([n.data[o].data]);e.chartData={labels:r,datasets:[{label:"Payments Over Time",data:s.slice(0).slice(-6),backgroundColor:"rgba(155, 89, 182, 0.3)"}]},i=[],a.t0=t.renewal,a.next="Annually"===a.t0?13:"Monthly"===a.t0?16:"3 Year"===a.t0?19:22;break;case 13:for(c=parseInt(t.cost),l=0;l<5;l++)i[l]=c,c+=parseInt(t.cost);return a.abrupt("break",22);case 16:for(d=12*parseInt(t.cost),u=0;u<5;u++)i[u]=d,d+=12*parseInt(t.cost);return a.abrupt("break",22);case 19:for(m=parseInt(t.cost)/3,p=0;p<5;p++)i[p]=m,m+=parseInt(t.cost)/3;return a.abrupt("break",22);case 22:e.costChartData={labels:["1 Year","2 Years","3 Years","4 Years","5 Years"],datasets:[{label:"Estimated Cost Over Time",data:i,backgroundColor:"rgba(41, 128, 185, 0.3)"}]},e.loaded=!0,a.next=29;break;case 26:a.prev=26,a.t1=a.catch(1),console.error(a.t1);case 29:case"end":return a.stop()}},a,e,[[1,26]])}))()},adminNotes:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.contracts[t.editedIndex].contractId,e.next=4,T({token:t.$store.state.token,adminNotes:t.editedItem.adminNotes,contractId:a});case 4:e.sent,t.contracts=[],t.getContracts(),t.dialogAdminNotes=!1,console.log(t.dialogAdminNotes),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.error=e.t0.response.data.error;case 14:case"end":return e.stop()}},e,t,[[0,11]])}))()},paymentHistory:function(t){var e=this;return p()(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{e.payments=[],e.payments=[{poNumber:1,capexId:1,vendorName:"Vendor1",price:12.34,currency:"CAD",renewalDate:"01-02-2020",renewedBy:"Username"}]}catch(t){e.error=t.response.data.error}case 1:case"end":return t.stop()}},t,e)}))()},archivedPaymentHistory:function(t){var e=this;return p()(v.a.mark(function a(){var n,r;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.archivedPayments=[],a.next=4,j({token:e.$store.state.token,contractId:t.contractId});case 4:for(r in(n=a.sent).data)e.archivedPayments.push({poNumber:n.data[r].ponumber,capexId:n.data[r].capexId,vendorName:n.data[r].vendorName,price:e.addCommas(n.data[r].price),currency:n.data[r].currency,renewalDate:n.data[r].renewalDate,renewedBy:n.data[r].renewedBy});a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.error=a.t0.response.data.error;case 11:case"end":return a.stop()}},a,e,[[0,8]])}))()},unArchive:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.archivedContracts.indexOf(t),a.t0=confirm("Are you sure you want to un-archive this item?"),!a.t0){a.next=6;break}return a.next=5,$({token:e.$store.state.token,user:e.$store.state.user,item:t});case 5:a.t0=a.sent;case 6:if(a.t1=a.t0,!a.t1){a.next=9;break}e.archivedContracts.splice(n,1);case 9:e.archivedContracts=[],e.contracts=[],e.getContracts(),e.getArchivedContracts();case 13:case"end":return a.stop()}},a,e)}))()},deleteArchive:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.archivedContracts.indexOf(t),a.t0=confirm("Are you sure you want to delete this item?"),!a.t0){a.next=6;break}return a.next=5,S({token:e.$store.state.token,user:e.$store.state.user,item:t});case 5:a.t0=a.sent;case 6:if(a.t1=a.t0,!a.t1){a.next=9;break}e.archivedContracts.splice(n,1);case 9:e.archivedContracts=[],e.getArchivedContracts();case 11:case"end":return a.stop()}},a,e)}))()},deleteFiles:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.fileName,a.t0=confirm("Are you sure you want to delete this file?"),!a.t0){a.next=5;break}return a.next=5,Y({token:e.$store.state.token,user:e.$store.state.user,contractId:e.editedFileId,file:n});case 5:e.message="File Deleted!",setTimeout(function(){e.message="",e.contracts=[],e.getContracts(),e.getFiles({contractId:e.editedFileId})},1e3);case 7:case"end":return a.stop()}},a,e)}))()},deleteArchivedFiles:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.fileName,a.t0=confirm("Are you sure you want to delete this file?"),!a.t0){a.next=5;break}return a.next=5,Y({token:e.$store.state.token,user:e.$store.state.user,contractId:e.editedFileId,file:n});case 5:e.message="File Deleted!",setTimeout(function(){e.message="",e.archivedContracts=[],e.getArchivedContracts(),e.getFiles({contractId:e.editedFileId})},1e3);case 7:case"end":return a.stop()}},a,e)}))()},getFiles:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.editedFileId=t.contractId,a.next=4,R({token:e.$store.state.token,contractId:t.contractId});case 4:n=a.sent,e.curFiles=n.data,e.dialogPDF=!0,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e.error=a.t0.response.data.error;case 12:case"end":return a.stop()}},a,e,[[0,9]])}))()},getArchivedFiles:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.editedFileId=t.contractId,a.next=4,B({token:e.$store.state.token,contractId:t.contractId});case 4:n=a.sent,e.curFiles=n.data,e.dialogArchPDF=!0,a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e.error=a.t0.response.data.error;case 12:case"end":return a.stop()}},a,e,[[0,9]])}))()},onSubmit:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r,s,o,i,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.files.length){e.next=2;break}return e.abrupt("return");case 2:for(r in a=[],n=new FormData,t.files[0])s=t.files[0][r],n.append("files",s);for(o=0;o<t.files[0].length;o++)(i=t.files[0][o].name).includes("'")&&(c=i.replace("'","''"),i=c),a.push(i);return e.prev=6,e.next=9,W(n);case 9:return e.next=11,M({token:t.$store.state.token,user:t.$store.state.user,contractId:t.editedFileId,files:a});case 11:t.message="File(s) Uploaded!",setTimeout(function(){t.message="",t.contracts=[],t.getContracts(),t.getFiles({contractId:t.editedFileId})},1e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),t.message="An error has occuring uploading the file!";case 19:case"end":return e.stop()}},e,t,[[6,15]])}))()},downloadFiles:function(t){var e=t.fileName;b()({url:"http://localhost:8081/downloadfiles",method:"POST",responseType:"blob",data:{fileName:e}}).then(function(t){var e=t.headers["file-name"],a=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"})),n=document.createElement("a");n.href=a,n.target="_blank",n.setAttribute("open",e),document.body.appendChild(n),n.click()})},onSelect:function(){var t=this.$refs.files.files;console.log(t.length);for(var e=0;e<t.length;e++){if("application/pdf"!=t[e].type)return this.message="Only PDFs are accepted.",void(this.files=[]);if(t[e].size>212e5)return this.message="File size is too large! Max size is 20MB.",void(this.files=[]);this.files.push(t)}},addCommas:function(t){t=t.toFixed(2);for(var e=(t+="").split("."),a=e[0],n=e.length>1?"."+e[1]:"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n},getNotes:function(t){this.editedIndex=this.contracts.indexOf(t),this.editedItem=d()({},t),this.dialogNotes=!0},getArchivedNotes:function(t){this.editedIndex=this.archivedContracts.indexOf(t),this.editedItem=d()({},t),this.dialogNotes=!0},editItem:function(t){this.newContract=!1,t.primaryContact==this.$store.state.user?this.isPrimaryContact=!0:this.isPrimaryContact=!1,this.editedIndex=this.contracts.indexOf(t),this.editedItem=d()({},t),console.log(this.editedItem),this.dialog=!0},editAdminNotes:function(t){console.log(t),(this.$store.getters.isAdmin||t.primaryContact==this.$store.state.user)&&(this.editedIndex=this.contracts.indexOf(t),this.editedItem=d()({},t),this.dialogAdminNotes=!0)},archive:function(t){this.contracts.indexOf(t);confirm("Are you sure you want to archive this item?")&&A({token:this.$store.state.token,user:this.$store.state.user,item:t}),this.contracts=[],this.getContracts()},openCapex:function(t){window.open("http://capex.pangeo.com/capex.php?ID="+t)},editDescription:function(t){this.fileName=t.fileName,this.dialogFileDes=!0},saveDescription:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({token:t.$store.state.token,fileDes:t.fileDescription,fileName:t.fileName});case 2:a={poNumber:t.editedFileId},t.getFiles(a),t.closeDescription();case 5:case"end":return e.stop()}},e,t)}))()},close:function(){var t=this;this.dialog=!1,this.editing=!1,setTimeout(function(){t.editedItem=d()({},t.defaultItem),t.editedIndex=-1},300)},closeFiles:function(){this.files=[],this.curFiles=[],this.message="",this.editedFileId=null,this.dialogArchPDF=!1,this.dialogPDF=!1},closeDescription:function(){this.fileDescription="",this.fileName="",this.dialogFileDes=!1},save:function(){if(this.editedIndex>-1){var t=this.contracts[this.editedIndex].contractId;d()(this.contracts[this.editedIndex],this.editedItem),N({token:this.$store.state.token,user:this.$store.state.user,poNumber:this.editedItem.poNumber,capexId:this.editedItem.capexId,companyName:this.editedItem.companyName,departmentName:this.editedItem.departmentName,contractDes:this.editedItem.contractDes,vendorName:this.editedItem.vendorName,renewal:this.editedItem.renewal,expDate:this.editedItem.expDate,contractNotes:this.editedItem.contractNotes,primaryContact:this.editedItem.primaryContact,cost:this.editedItem.cost,currency:this.editedItem.currency,contractId:t})}else{if(""===this.editedItem.primaryContact)return void(this.err="Primary Contact must be filled out!");if(""===this.editedItem.companyName)return void(this.err="Company must be filled out!");if(""===this.editedItem.departmentName)return void(this.err="Department must be filled out!");if(""===this.editedItem.contractDes)return void(this.err="Description must be filled out!");if(""===this.editedItem.vendorName)return void(this.err="Vendor must be filled out!");if(""===this.editedItem.renewal)return void(this.err="Renewal must be filled out!");if(""===this.editedItem.cost)return void(this.err="Cost must be filled out!");if(""===this.editedItem.currency)return void(this.err="Currency must be filled out!");if(this.editedItem.cost.includes(","))return void(this.err="Please remove comma(s) from the cost.");this.err="";var e=this.editedItem.cost;this.editedItem.cost=parseFloat(e).toFixed(2),this.contracts.push(this.editedItem),w({token:this.$store.state.token,user:this.$store.state.user,poNumber:this.editedItem.poNumber,capexId:this.editedItem.capexId,companyName:this.editedItem.companyName,departmentName:this.editedItem.departmentName,contractDes:this.editedItem.contractDes,vendorName:this.editedItem.vendorName,renewal:this.editedItem.renewal,expDate:this.editedItem.expDate,contractNotes:this.editedItem.contractNotes,primaryContact:this.editedItem.primaryContact,cost:this.editedItem.cost,currency:this.editedItem.currency})}this.dialog=!1,this.contracts=[],this.archivedContracts=[],this.getContracts(),this.getArchivedContracts(),this.close()}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"","fill-height":""}},[a("v-flex",[a("div",{staticClass:"white elevation-3"},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Contracts")]),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{id:"btn",absolute:"",dark:"",fab:"",right:"",bottom:"",color:"grey darken-3"},on:{click:function(e){t.newContract=!0}}},n),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n                "+t._s(t.formTitle)+"\n              ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Capex ID",color:"green darken-1"},model:{value:t.editedItem.capexId,callback:function(e){t.$set(t.editedItem,"capexId",e)},expression:"editedItem.capexId"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"PO Number",color:"green darken-1"},model:{value:t.editedItem.poNumber,callback:function(e){t.$set(t.editedItem,"poNumber",e)},expression:"editedItem.poNumber"}})],1),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.company,label:"Division",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.companyName,callback:function(e){t.$set(t.editedItem,"companyName",e)},expression:"editedItem.companyName"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.department,label:"Department",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.departmentName,callback:function(e){t.$set(t.editedItem,"departmentName",e)},expression:"editedItem.departmentName"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-overflow-btn",{attrs:{height:"36",items:t.vendors,label:"Vendor",editable:""},model:{value:t.editedItem.vendorName,callback:function(e){t.$set(t.editedItem,"vendorName",e)},expression:"editedItem.vendorName"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.renewal,label:"Renewal",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.renewal,callback:function(e){t.$set(t.editedItem,"renewal",e)},expression:"editedItem.renewal"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Cost",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.cost,callback:function(e){t.$set(t.editedItem,"cost",e)},expression:"editedItem.cost"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.currencys,label:"Currency",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.currency,callback:function(e){t.$set(t.editedItem,"currency",e)},expression:"editedItem.currency"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Description",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.contractDes,callback:function(e){t.$set(t.editedItem,"contractDes",e)},expression:"editedItem.contractDes"}})],1),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-select",{attrs:{items:t.users,label:"Primary Contact",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.primaryContact,callback:function(e){t.$set(t.editedItem,"primaryContact",e)},expression:"editedItem.primaryContact"}})],1):t._e(),t._v(" "),t.newContract||this.$store.getters.isAdmin||t.isPrimaryContact?a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{color:"green darken-1",label:"Exp Date",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}],null,!1,1214082815),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",dark:"",color:"green darken-1"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"green darken-1"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"green darken-1"},on:{click:function(e){t.$refs.menu.save(t.date),t.editedItem.expDate=t.date}}},[t._v("OK")])],1)],1)],1):t._e()],1),t._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"","order-xs5":""}},[a("v-textarea",{attrs:{outline:"",color:"green darken-1",label:"Notes"},model:{value:t.editedItem.contractNotes,callback:function(e){t.$set(t.editedItem,"contractNotes",e)},expression:"editedItem.contractNotes"}})],1),t._v(" "),a("div",{staticClass:"err"},[a("h4",[t._v(t._s(t.err))])])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.close}},[t._v("\n                  Cancel\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.save}},[t._v("\n                  Save\n                ")])],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:"",id:"search"}},[a("v-text-field",{attrs:{color:"grey darken-3","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",[a("v-data-table",{attrs:{headers:t.headers,items:t.contracts,loading:t.loading,expand:t.expand,search:t.search,"item-key":"contractId","disable-initial-sort":"","rows-per-page-items":t.rows},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(a){e.expanded=!e.expanded,t.paymentHistory(e.item),t.getPaymentData(e.item)}}},[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.primaryContact))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contractDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewal))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.cost))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.currency))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expDate))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.getNotes(e.item)}}},r),[t._v("\n                          notes\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Notes")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){t.editAdminNotes(e.item),t.archived=!1}}},r),[t._v("\n                          lock\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Admin Notes")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e.item.file?a("v-icon",t._g({attrs:{small:"",color:"blue darken-1"},on:{click:function(a){return t.getFiles(e.item)}}},r),[t._v("\n                          note\n                        ")]):a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.getFiles(e.item)}}},r),[t._v("\n                          note\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Files")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.archive(e.item)}}},r),[t._v("\n                        archive\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Archive")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){t.editItem(e.item),t.editing=!0}}},r),[t._v("\n                        edit\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit")])])],1)])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('\n                  Your search for "'+t._s(t.search)+'" found no results.\n                ')])]},proxy:!0},{key:"expand",fn:function(e){return[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{attrs:{flat:"",dark:"",tile:"",id:"chartz"}},[a("v-card-title",{staticClass:"justify-center"},[a("h3",[t._v("Payment History")])]),t._v(" "),a("v-data-table",{attrs:{dark:"",headers:t.paymentHeaders,items:t.payments},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.currency))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewalDate))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewedBy))])]}}],null,!0)})],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{attrs:{flat:"",dark:"",tile:"",id:"chartz"}},[a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.loaded?a("line-chart",{attrs:{id:"charts",chartdata:t.chartData,options:t.options}}):t._e()],1)])],1)],1),t._v(" "),a("v-divider")]}}])})])],2)],1),t._v(" "),a("div",{staticClass:"white elevation-3",attrs:{id:"arch"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Archived Contracts")]),t._v(" "),t.displayArchive?t._e():a("v-btn",{attrs:{absolute:"",dark:"",right:"",color:"grey darken-3"},on:{click:function(e){t.getArchivedContracts(),t.displayArchive=!0}}},[t._v("\n            View\n          ")]),t._v(" "),t.displayArchive?a("v-btn",{attrs:{absolute:"",dark:"",right:"",color:"grey darken-3"},on:{click:function(e){t.archivedContracts=[],t.displayArchive=!1}}},[t._v("\n            Close\n          ")]):t._e()],1),t._v(" "),t.displayArchive?a("div",[a("v-flex",{attrs:{xs4:"",id:"search"}},[a("v-text-field",{attrs:{color:"grey darken-3","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.archiveSearch,callback:function(e){t.archiveSearch=e},expression:"archiveSearch"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.archivedContracts,loading:t.archivedLoading,expand:t.expand,search:t.archiveSearch,"item-key":"contractId"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{on:{click:function(a){e.expanded=!e.expanded,t.archivedPaymentHistory(e.item),t.getArchPaymentData(e.item)}}},[a("td",{on:{click:function(a){return t.openCapex(e.item.capexId)}}},[a("a",[t._v(t._s(e.item.capexId))])]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.primaryContact))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contractDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewal))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.cost))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.currency))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expDate))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.getNotes(e.item)}}},r),[t._v("\n                        notes\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Notes")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){t.editAdminNotes(e.item),t.archived=!0}}},r),[t._v("\n                        lock\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Admin Notes")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e.item.file?a("v-icon",t._g({attrs:{small:"",color:"blue darken-1"},on:{click:function(a){return t.getArchivedFiles(e.item)}}},r),[t._v("\n                        note\n                      ")]):a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.getArchivedFiles(e.item)}}},r),[t._v("\n                        note\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Files")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.unArchive(e.item)}}},r),[t._v("\n                        undo\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("UnArchive")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[t.$store.state.admin?a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteArchive(e.item)}}},r),[t._v("\n                        delete\n                      ")]):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('\n                Your search for "'+t._s(t.archiveSearch)+'" found no results.\n              ')])]},proxy:!0},{key:"expand",fn:function(e){return[a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{attrs:{flat:"",dark:"",tile:"",id:"chartz"}},[a("v-card-title",{staticClass:"justify-center"},[a("h4",[t._v("Payment History")])]),t._v(" "),a("v-data-table",{attrs:{headers:t.paymentHeaders,items:t.archivedPayments},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v("$"+t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.currency))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewalDate))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.renewedBy))])]}}],null,!0)})],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{attrs:{flat:"",dark:"",tile:"",id:"chartz"}},[a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.loaded?a("line-chart",{attrs:{id:"charts",chartdata:t.chartData,options:t.options}}):t._e()],1)])],1)],1),t._v(" "),a("v-divider")]}}],null,!1,1647014029)})],1):t._e()],1)])],1),t._v(" "),a("v-dialog",{attrs:{width:"900",persistent:""},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Files\n      ")]),t._v(" "),a("v-card-text",[a("div",[a("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("h2",[t._v("Upload Files")]),a("br"),t._v(" "),a("div",{staticClass:"fields"},[a("input",{ref:"files",attrs:{type:"file",multiple:""},on:{change:t.onSelect}}),t._v(" "),a("button",{attrs:{id:"submit"}},[t._v("Submit")]),t._v(" "),a("p",[t._v("Click browse to select your file(s) for Upload.")])]),t._v(" "),a("div",{staticClass:"message"},[a("h4",[t._v(t._s(t.message))])])])]),t._v(" "),a("br"),t._v(" "),this.curFiles!=[]&&null!=this.curFiles[0]?a("div",[null!=this.curFiles[0]?a("v-data-table",{attrs:{headers:t.fileHeaders,items:t.curFiles},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fileName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fileDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.uploadedBy))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.date))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editDescription(e.item)}}},r),[t._v("\n                        edit\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit Description")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.downloadFiles(e.item)}}},r),[t._v("\n                        open_in_new\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("View")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.deleteFiles(e.item)}}},r),[t._v("\n                      delete\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}],null,!1,294846796)}):t._e()],1):t._e()]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeFiles}},[t._v("\n          Close\n        ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"900",persistent:""},model:{value:t.dialogArchPDF,callback:function(e){t.dialogArchPDF=e},expression:"dialogArchPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Files\n      ")]),t._v(" "),a("v-card-text",[this.curFiles!=[]?a("div",[a("v-data-table",{attrs:{headers:t.fileHeaders,items:t.curFiles},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fileName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.fileDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.uploadedBy))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.date))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.downloadFiles(e.item)}}},r),[t._v("\n                        open_in_new\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("View")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.deleteFiles(e.item)}}},r),[t._v("\n                      delete\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}],null,!1,236643930)})],1):t._e()]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeFiles}},[t._v("\n          Close\n        ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialogFileDes,callback:function(e){t.dialogFileDes=e},expression:"dialogFileDes"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Edit File Description\n      ")]),t._v(" "),a("v-card-text",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"File Description",color:"green darken-1",rules:[t.rules.required]},model:{value:t.fileDescription,callback:function(e){t.fileDescription=e},expression:"fileDescription"}})],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeDescription}},[t._v("\n          Cancel\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.saveDescription}},[t._v("\n          Save\n        ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogNotes,callback:function(e){t.dialogNotes=e},expression:"dialogNotes"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Notes\n      ")]),t._v(" "),a("v-card-text",[a("v-textarea",{attrs:{outline:"",disabled:"",color:"green darken-1"},model:{value:t.editedItem.contractNotes,callback:function(e){t.$set(t.editedItem,"contractNotes",e)},expression:"editedItem.contractNotes"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){t.dialogNotes=!1}}},[t._v("\n          Close\n        ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialogAdminNotes,callback:function(e){t.dialogAdminNotes=e},expression:"dialogAdminNotes"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Admin Notes\n      ")]),t._v(" "),a("v-card-text",[t.archived?a("v-textarea",{attrs:{disabled:"",outline:"",color:"green darken-1"},model:{value:t.editedItem.adminNotes,callback:function(e){t.$set(t.editedItem,"adminNotes",e)},expression:"editedItem.adminNotes"}}):a("v-textarea",{attrs:{outline:"",color:"green darken-1"},model:{value:t.editedItem.adminNotes,callback:function(e){t.$set(t.editedItem,"adminNotes",e)},expression:"editedItem.adminNotes"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){t.dialogAdminNotes=!1}}},[t._v("\n          Close\n        ")]),t._v(" "),t.archived?t._e():a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){return t.adminNotes()}}},[t._v("\n          Save\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var J=a("VU/8")(X,K,!1,function(t){a("u01n")},"data-v-acf32d12",null).exports,Z=a("l7UG"),Q=a("jWc/"),tt=a.n(Q),et=a("lSQz"),at=a.n(et),nt=a("PV2O"),rt=a.n(nt),st={components:{FullCalendar:Z.a},data:function(){return{dialog:!1,calendarPlugins:[tt.a,at.a,rt.a],calendarWeekends:!0,events:[],eventInfo:[],eventTable:null,height:600,legend:[]}},created:function(){this.getEvents(),this.getLegend()},methods:{getEvents:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{t.events=[{title:"U of W",start:"2019-09-28"},{title:"U of W",start:"2019-12-23"},{title:"U of W",start:"2020-01-15"}]}catch(e){t.error=e.response.data.error}case 1:case"end":return e.stop()}},e,t)}))()},getLegend:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.legend=["Company1","Company2","Company3"];case 1:case"end":return e.stop()}},e,t)}))()},eventClick:function(){var t=p()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eventInfo=[{test:"test"}],this.dialog=!0;case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"","fill-height":""}},[a("v-flex",[a("div",{staticClass:"white elevation-3",attrs:{id:"container"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Calendar")])],1),a("h2",[a("div",{staticClass:"legend"},[t._v("\n           Legend: "),t._l(t.legend,function(e,n){return a("span",{key:n,style:{color:e.eventColor}},[t._v("|"+t._s(e)+"| ")])})],2)]),t._v(" "),a("div",{staticClass:"demo-app"},[a("FullCalendar",{ref:"fullCalendar",staticClass:"calendar",attrs:{defaultView:"dayGridMonth",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,listYear"},plugins:t.calendarPlugins,weekends:t.calendarWeekends,events:t.events,height:t.height},on:{eventClick:t.eventClick}})],1)],1),t._v(" "),a("div",[a("v-dialog",{attrs:{width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n              Event Details\n            ")]),t._v(" "),a("v-card-text",t._l(t.eventInfo,function(e){return a("div",{key:e},[a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("div",[a("table",{attrs:{border:"0"}},[a("tr",[a("th",[t._v("Contract ID")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.contractId))])]),t._v(" "),a("tr",[a("th",[t._v("PO Number")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.poNumber))])]),t._v(" "),a("tr",[a("th",[t._v("Company")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.companyName))])]),t._v(" "),a("tr",[a("th",[t._v("Contact")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.primaryContact))])]),t._v(" "),a("tr",[a("th",[t._v("Department")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.departmentName))])]),t._v(" "),a("tr",[a("th",[t._v("Description")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.contractDes))])]),t._v(" "),a("tr",[a("th",[t._v("Vendor")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.vendorName))])]),t._v(" "),a("tr",[a("th",[t._v("Renewal")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.renewal))])]),t._v(" "),a("tr",[a("th",[t._v("Expiry Date")]),t._v(" "),a("th",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(e.expDate))])])])])])],1)],1)}),0),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                close\n              ")])],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var it=a("VU/8")(st,ot,!1,function(t){a("IX01")},null,null).exports,ct=function(t){return C().post("getcontracts",t)},lt=function(t){return C().post("editvendors",t)},dt=function(t){return C().post("addvendors",t)},ut=function(t){return C().post("deletevendors",t)},vt=a("hlPV"),mt={directives:{mask:vt.mask},data:function(){return{menu:!1,dialog:!1,dialogContracts:!1,totalContracts:0,vendors:[],contracts:[],loading:!0,loadingContracts:!0,search:"",phoneMask:"(###) ###-####",rules:{required:function(t){return!!t||"Required."}},rows:[10,15,20,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],headers:[{text:"Vendor Name",value:"name",align:"center",sortable:!1},{text:"Contact Name",value:"companyName",align:"center",sortable:!1},{text:"Contact Email",value:"vendorName",align:"center",sortable:!1},{text:"Contact Number",value:"companyEmail",align:"center",sortable:!1},{text:"Active Contracts",value:"ActiveContracts",align:"center",sortable:!1},{text:"Action",value:"Action",align:"center",sortable:!1}],contractHeaders:[{text:"Capex ID",align:"center",sortable:!1,value:"capexId"},{text:"PO Number",align:"center",sortable:!1,value:"name"},{text:"Company",value:"companyName",align:"center",sortable:!1},{text:"Department",value:"renewalType",align:"center",sortable:!1},{text:"Description",value:"contractDes",align:"center",sortable:!1},{text:"Exp Date",value:"expDate",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],editedIndex:-1,editedItem:{vendorName:"",contactName:"",contactEmail:"",contactNum:""},defaultItem:{vendorName:"",contactName:"",contactEmail:"",contactNum:""}}},created:function(){this.getVendors()},computed:{formTitle:function(){return-1===this.editedIndex?"New Vendor":"Edit Vendor"}},watch:{dialog:function(t){t||this.close()}},methods:{getVendors:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0;try{t.vendors=[{vendorName:"Vendor1",contactName:"ContactName",contactEmail:"contact@email.com",contactNum:"123-456-7890"},{vendorName:"Vendor2",contactName:"ContactName",contactEmail:"contact@email.com",contactNum:"123-456-7890"},{vendorName:"Vendor3",contactName:"ContactName",contactEmail:"contact@email.com",contactNum:"123-456-7890"}],setTimeout(function(){t.loading=!1},1e3)}catch(e){t.error=e.response.data.error,t.loading=!1}case 2:case"end":return e.stop()}},e,t)}))()},getContracts:function(t){var e=this;return p()(v.a.mark(function a(){var n,r;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialogContracts=!0,e.editedIndex=e.vendors.indexOf(t),n=e.vendors[e.editedIndex].vendorName,a.prev=3,a.next=6,ct({token:e.$store.state.token,user:e.$store.state.user,vendorName:n});case 6:r=a.sent,e.contracts=r.data,e.totalContracts=r.data.length,setTimeout(function(){e.loadingContracts=!1},1e3),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(3),e.error=a.t0.response.data.error,e.loadingContracts=!1;case 16:case"end":return a.stop()}},a,e,[[3,12]])}))()},emailContact:function(t){window.location.href="mailto:"+t},editItem:function(t){this.editedIndex=this.vendors.indexOf(t),this.editedItem=d()({},t),this.dialog=!0},deleteItem:function(t){var e=this.vendors.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.vendors.splice(e,1)&&ut({token:this.$store.state.token,vendor:t})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=d()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){if(this.editedIndex>-1){var t=this.vendors[this.editedIndex].vendorId,e=this.vendors[this.editedIndex].vendorName;d()(this.vendors[this.editedIndex],this.editedItem),lt({token:this.$store.state.token,vendorId:t,vendorName:this.editedItem.vendorName,contactName:this.editedItem.contactName,contactEmail:this.editedItem.contactEmail,contactNum:this.editedItem.contactNum,oldVendorName:e})}else{for(var a=P()(),n=!0;n;)for(var r=0;r<this.vendors.length;r++)a!=this.vendors[r].vendorColor?n=!1:(a=P()(),n=!0);this.vendors.push(this.editedItem),dt({token:this.$store.state.token,vendorName:this.editedItem.vendorName,contactName:this.editedItem.contactName,contactEmail:this.editedItem.contactEmail,contactNum:this.editedItem.contactNum,color:a})}this.dialog=!1,this.close()},router:function(t){this.$router.push({name:"Contracts",params:{poNumber:t.poNumber}})}}},pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"","fill-height":""}},[a("v-flex",[a("div",{staticClass:"white elevation-3"},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Vendors")]),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",color:"grey darken-3"}},n),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n                "+t._s(t.formTitle)+"\n              ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Vendor Name",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.vendorName,callback:function(e){t.$set(t.editedItem,"vendorName",e)},expression:"editedItem.vendorName"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Contact Name",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.contactName,callback:function(e){t.$set(t.editedItem,"contactName",e)},expression:"editedItem.contactName"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Contact Email",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.contactEmail,callback:function(e){t.$set(t.editedItem,"contactEmail",e)},expression:"editedItem.contactEmail"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:t.phoneMask,expression:"phoneMask"}],attrs:{label:"Contact Number",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedItem.contactNum,callback:function(e){t.$set(t.editedItem,"contactNum",e)},expression:"editedItem.contactNum"}})],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.close}},[t._v("\n                  Cancel\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.save}},[t._v("\n                  Save\n                ")])],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:"",id:"search"}},[a("v-text-field",{attrs:{color:"grey darken-3","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",[a("v-data-table",{attrs:{headers:t.headers,items:t.vendors,loading:t.loading,search:t.search,"rows-per-page-items":t.rows},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contactName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("a",{on:{click:function(a){return t.emailContact(e.item.contactEmail)}}},[t._v(t._s(e.item.contactEmail))])]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contactNum))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.getContracts(e.item)}}},r),[t._v("\n                        notes\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Active Contracts")])])],1),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},r),[t._v("\n                        edit\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[t.$store.getters.isAdmin?a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},r),[t._v("\n                        delete\n                      ")]):t._e()]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}])})])],2)],1)])],1),t._v(" "),a("v-dialog",{attrs:{width:"850"},model:{value:t.dialogContracts,callback:function(e){t.dialogContracts=e},expression:"dialogContracts"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Active Contracts\n      ")]),t._v(" "),a("v-card-text",[a("v-data-table",{attrs:{headers:t.contractHeaders,items:t.contracts,"total-items":t.totalContracts,loading:t.loadingContracts,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contractDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expDate))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-btn",{attrs:{color:"info",small:""},on:{click:function(a){return t.router(e.item)}}},[t._v("\n                more info\n              ")])],1)]}}])})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){t.dialogContracts=!1,t.loadingContracts=!0}}},[t._v("\n          Close\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var ft=a("VU/8")(mt,pt,!1,function(t){a("gpvG")},"data-v-c40768e0",null).exports,ht=function(t){return C().post("userp",t)},_t=function(t){return C().post("edituser",t)},xt=function(t){return C().post("deleteuser",t)},gt=function(t){return C().post("deletediv",t)},kt=function(t){return C().post("deletedepartment",t)},yt=function(t){return C().post("divisions",t)},bt=function(t){return C().post("departments",t)},Ct=function(t){return C().post("adddivision",t)},It=function(t){return C().post("adddepartment",t)},Nt=function(t){return C().post("editcolor",t)},wt=function(t){return C().post("usercontracts",t)},Dt=function(t){return C().post("addcurrency",t)},jt=function(t){return C().post("deletecurrency",t)},At=a("gQ/s"),$t=a.n(At),St={extends:_.d,props:{chartdata:{type:Object,default:null},options:{type:Object,default:null,borderSkipped:"bottom"}},mounted:function(){this.renderChart(this.chartdata,this.options)}},Ut=(a("peKb"),{components:{Swatches:$t.a,PieChart:St},data:function(){return{color:null,loading:!0,loaded:!1,dialog:!1,dialogDivision:!1,dialogDepartment:!1,dialogEmail:!1,dialogColor:!1,dialogCurrency:!1,selectedName:null,chartData:null,primaryContacts:[],dialogContracts:!1,loadingContracts:!1,contracts:[],currencys:[],search:"",contractSearch:"",userHeaders:[{text:"UserId",value:"userId",align:"center",sortable:!1},{text:"UserName",value:"userName",align:"center",sortable:!1},{text:"Name",value:"name",align:"center",sortable:!1},{text:"Email",value:"email",align:"center",sortable:!1},{text:"Domain",value:"domain",align:"center",sortable:!1},{text:"Admin",value:"admin",align:"center",sortable:!1},{text:"Active",value:"active",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],primaryHeaders:[{text:"Primary Contact",value:"labels",align:"center",sortable:!1},{text:"Number of Contracts",value:"data",align:"center",sortable:!1},{text:"Active Contracts",value:"action",align:"center",sortable:!1}],divHeaders:[{text:"Division Name",value:"companyName",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],depHeaders:[{text:"Department Name",value:"departmentName",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],currHeaders:[{text:"Currency Name",value:"name",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],contractHeaders:[{text:"Vendor",value:"vendorName",align:"center",sortable:!1},{text:"Description",value:"contractDes",align:"center",sortable:!1},{text:"Capex ID",align:"center",sortable:!1,value:"capexId"},{text:"PO Number",align:"center",sortable:!1,value:"name"},{text:"Company",value:"companyName",align:"center",sortable:!1},{text:"Department",value:"renewalType",align:"center",sortable:!1},{text:"Exp Date",value:"expDate",align:"center",sortable:!1},{text:"Action",value:"action",align:"center",sortable:!1}],rules:{required:function(t){return!!t||"Required."}},options:{maintainAspectRatio:!1,scales:{yAxes:[{display:0,ticks:{beginAtZero:!0},gridLines:{display:!1}}]}},users:[],divisions:[],departments:[],checkboxes:[],companyCheckboxes:[],departmentCheckboxes:[],editedIndex:-1,editedUser:{},defaultUser:{},editedDivision:{companyId:"",companyName:""},defaultDivision:{companyId:"",companyName:""},editedDepartment:{departmentId:"",departmentName:""},defaultDepartment:{departmentId:"",departmentName:""},editedCurrency:{cId:"",name:""},defaultCurrency:{cId:"",name:""}}},created:function(){this.getUsers(),this.getDivisions(),this.getDepartments(),this.getPrimaryContacts(),this.getCurrency(),this.fillEditedUser()},methods:{getUsers:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.users=[{userId:1,userName:"UserName",name:"FullName",email:"Email",domain:"Company1",admin:1,active:1}],setTimeout(function(){t.loading=!1},1e3);case 2:case"end":return e.stop()}},e,t)}))()},getContracts:function(t){var e=this;return p()(v.a.mark(function a(){var n;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialogContracts=!0,a.prev=1,a.next=4,wt({adminToken:e.$store.state.adminToken,token:e.$store.state.token,user:e.$store.state.user,name:t});case 4:n=a.sent,e.contracts=n.data,setTimeout(function(){e.loadingContracts=!1},1e3),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),e.error=a.t0.response.data.error,e.loadingContracts=!1;case 13:case"end":return a.stop()}},a,e,[[1,9]])}))()},getDivisions:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.divisions=[{companyName:"Company1"},{companyName:"Company2"},{companyName:"Company3"}],setTimeout(function(){t.loading=!1},1e3);case 2:case"end":return e.stop()}},e,t)}))()},getDepartments:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.departments=[{departmentName:"Department1"},{departmentName:"Department2"},{departmentName:"Department3"}],setTimeout(function(){t.loading=!1},1e3);case 2:case"end":return e.stop()}},e,t)}))()},getCurrency:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.currencys=[{name:"CAD"},{name:"USD"}],setTimeout(function(){t.loading=!1},1e3);case 2:case"end":return e.stop()}},e,t)}))()},editUser:function(t){var e=this;return p()(v.a.mark(function a(){var n,r,s,o,i,c,l,d;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ht({token:e.$store.state.token,user:e.$store.state.user,adminToken:e.$store.state.adminToken,userId:t.userId});case 2:return n=a.sent,a.next=5,yt({token:e.$store.state.token,user:e.$store.state.user,adminToken:e.$store.state.adminToken});case 5:return r=a.sent,a.next=8,bt({token:e.$store.state.token,user:e.$store.state.user,adminToken:e.$store.state.adminToken});case 8:for(o in s=a.sent,e.editedIndex=e.users.indexOf(t),e.editedUser.userId=t.userId,e.editedUser.Admin=t.admin,e.editedUser.Active=t.active,e.checkboxes.push({name:"Admin",model:e.editedUser.Admin}),e.checkboxes.push({name:"Active",model:e.editedUser.Active}),n.data){for(i in r.data)n.data[o].companyid===r.data[i].companyId&&(e.editedUser[""+r.data[i].companyName]=!0);for(c in s.data)n.data[o].departmentid===s.data[c].departmentId&&(e.editedUser[""+s.data[c].departmentName]=!0)}for(l in r.data)e.companyCheckboxes.push({name:r.data[l].companyName,model:e.editedUser[""+r.data[l].companyName]});for(d in s.data)e.departmentCheckboxes.push({name:s.data[d].departmentName,model:e.editedUser[""+s.data[d].departmentName]});e.selectedName=t.name,e.dialog=!0;case 20:case"end":return a.stop()}},a,e)}))()},fillEditedUser:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt({token:t.$store.state.token,user:t.$store.state.user,adminToken:t.$store.state.adminToken});case 2:return a=e.sent,e.next=5,bt({token:t.$store.state.token,user:t.$store.state.user,adminToken:t.$store.state.adminToken});case 5:for(r in n=e.sent,t.editedUser.Admin=!1,t.editedUser.Active=!1,t.defaultUser.Admin=!1,t.defaultUser.Active=!1,a.data)t.editedUser[""+a.data[r].companyName]=!1,t.defaultUser[""+a.data[r].companyName]=!1;for(s in n.data)t.editedUser[""+n.data[s].departmentName]=!1,t.defaultUser[""+n.data[s].departmentName]=!1;case 12:case"end":return e.stop()}},e,t)}))()},getPrimaryContacts:function(){var t=this;return p()(v.a.mark(function e(){var a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=["UserName"],n=[1],r=t.randomColors(1),t.chartData={labels:a,datasets:[{label:["Number of Contracts"],data:n,backgroundColor:r}]},t.primaryContacts=[{labels:"UserName",data:1}],t.loaded=!0,setTimeout(function(){t.loading=!1},1e3);case 7:case"end":return e.stop()}},e,t)}))()},deleteUser:function(t){var e=this.users.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.users.splice(e,1)&&xt({item:t,token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken})},deleteDivision:function(t){var e=this.divisions.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.divisions.splice(e,1)&&gt({item:t,token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken})},deleteDepartment:function(t){var e=this.divisions.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.departments.splice(e,1)&&kt({item:t,token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken})},deleteCurrency:function(t){var e=this.currencys.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.currencys.splice(e,1)&&jt({item:t,token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken})},close:function(){var t=this;this.dialog=!1,this.checkboxes=[],this.companyCheckboxes=[],this.departmentCheckboxes=[],setTimeout(function(){t.editedUser=d()({},t.defaultUser),t.editedIndex=-1},300)},closeDivision:function(){var t=this;this.color=null,this.dialogColor=!1,this.dialogDivision=!1,setTimeout(function(){t.editedDivision=d()({},t.defaultDivision),t.editedIndex=-1},300)},closeDepartment:function(){var t=this;this.dialogDepartment=!1,setTimeout(function(){t.editedDepartment=d()({},t.defaultDepartment),t.editedIndex=-1},300)},closeCurrency:function(){var t=this;this.dialogCurrency=!1,setTimeout(function(){t.editedCurrency=d()({},t.defaultCurrency),t.editedIndex=-1},300)},editColor:function(t){this.dialogColor=!0,this.editedDivision.companyId=t.companyId,this.editedDivision.companyName=t.companyName},save:function(){var t=this.editedUser.userId;this.editedUser=d()({},this.defaultUser);var e=this.checkboxes.filter(function(t){return t.model}).map(function(t){return t.name}),a=this.companyCheckboxes.filter(function(t){return t.model}).map(function(t){return t.name}),n=this.departmentCheckboxes.filter(function(t){return t.model}).map(function(t){return t.name});for(var r in e)this.editedUser[e[r]]=!0;for(var s in a)this.editedUser[a[s]]=!0;for(var o in n)this.editedUser[n[o]]=!0;d()(this.users[this.editedIndex],this.editedUser),console.log(this.editedUser),_t({token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken,editedUser:this.editedUser,userId:t}),this.dialog=!1,this.close()},saveColor:function(){Nt({token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken,companyId:this.editedDivision.companyId,color:this.color}),this.dialogColor=!1,this.loading=!0,this.closeDivision(),this.getDivisions()},saveDivision:function(){Ct({token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken,companyName:this.editedDivision.companyName,color:this.color}),this.loading=!0,this.getDivisions(),this.closeDivision()},saveDepartment:function(){It({token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken,departmentName:this.editedDepartment.departmentName}),this.loading=!0,this.getDepartments(),this.closeDepartment()},saveCurrency:function(){Dt({token:this.$store.state.token,user:this.$store.state.user,adminToken:this.$store.state.adminToken,name:this.editedCurrency.name}),this.loading=!0,this.getCurrency(),this.closeCurrency()},randomColors:function(t){for(var e=[],a=0;a<t;a++)e.push(P()());return e},router:function(t){this.$router.push({name:"Contracts",params:{poNumber:t.poNumber}})}}}),Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"align-center":"","justify-space-around":"",row:"","fill-height":""}},[a("v-flex",[a("div",{staticClass:"white elevation-3",attrs:{id:"container"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Admin Menu")])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{attrs:{id:"table"}},[a("v-card-title",{staticClass:"justify-center",attrs:{id:"title"}},[a("h2",[t._v("Primary Contacts")])]),t._v(" "),a("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[a("v-data-table",{attrs:{headers:t.primaryHeaders,items:t.primaryContacts,loading:t.loading,id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.labels))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.data))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.getContracts(e.item.labels)}}},r),[t._v("\n                            notes\n                          ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("View Active Contracts")])])],1)]}}])})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",[a("v-card-title",{staticClass:"justify-center",attrs:{id:"title"}},[a("h2",[t._v("Contracts Per Primary Contact")])]),t._v(" "),a("div",{staticClass:"container",attrs:{id:"chartContainer"}},[t.loaded?a("pie-chart",{attrs:{id:"charts",chartdata:t.chartData,options:t.options}}):t._e()],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"white elevation-3",attrs:{id:"container"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Users")])],1),t._v(" "),a("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(t){t.on}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n              Edit "+t._s(t.selectedName)+"'s Permissions\n            ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h3",[t._v("User Options")])]),t._v(" "),t._l(t.checkboxes,function(e,n){return a("v-flex",{key:n,attrs:{xs12:"",md4:""}},[a("v-checkbox",{attrs:{label:e.name},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"checkbox.model"}})],1)}),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h3",[t._v("Company")])]),t._v(" "),t._l(t.companyCheckboxes,function(e,n){return a("v-flex",{key:n+"i",attrs:{xs12:"",md4:""}},[a("v-checkbox",{attrs:{label:e.name},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"checkbox.model"}})],1)}),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("h3",[t._v("Department")])]),t._v(" "),t._l(t.departmentCheckboxes,function(e,n){return a("v-flex",{key:n+"j",attrs:{xs12:"",md4:""}},[a("v-checkbox",{attrs:{label:e.name},model:{value:e.model,callback:function(a){t.$set(e,"model",a)},expression:"checkbox.model"}})],1)})],2)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.close}},[t._v("\n                  Cancel\n                ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.save}},[t._v("\n                  Save\n                ")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:"",id:"search"}},[a("v-text-field",{attrs:{color:"grey darken-3","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[a("v-data-table",{attrs:{headers:t.userHeaders,items:t.users,search:t.search,loading:t.loading,id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.userId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.userName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.email))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.domain))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.admin))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.active))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editUser(e.item)}}},r),[t._v("\n                      edit\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit Permissions")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteUser(e.item)}}},r),[t._v("\n                      delete\n                    ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}])})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{attrs:{id:"table"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Divisions")]),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",color:"grey darken-3"}},n),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialogDivision,callback:function(e){t.dialogDivision=e},expression:"dialogDivision"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n                    Add Division\n                  ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",id:"divname"}},[a("v-text-field",{attrs:{label:"Divison Name",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedDivision.companyName,callback:function(e){t.$set(t.editedDivision,"companyName",e)},expression:"editedDivision.companyName"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",id:"color"}},[a("h3",[t._v("Select a Color:")]),t._v(" "),a("swatches",{attrs:{inline:""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeDivision}},[t._v("\n                      Cancel\n                    ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.saveDivision}},[t._v("\n                      Save\n                    ")])],1)],1)],1)],1),t._v(" "),a("v-card-text",[a("v-data-table",{attrs:{headers:t.divHeaders,items:t.divisions,loading:t.loading,"hide-actions":"",id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editColor(e.item)}}},r),[t._v("\n                          edit\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Edit Color")])]),t._v(" "),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteDivision(e.item)}}},r),[t._v("\n                          delete\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}])})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{attrs:{id:"table"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Departments")]),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",color:"grey darken-3"}},n),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialogDepartment,callback:function(e){t.dialogDepartment=e},expression:"dialogDepartment"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n                      Add Department\n                    ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Department Name",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedDepartment.departmentName,callback:function(e){t.$set(t.editedDepartment,"departmentName",e)},expression:"editedDepartment.departmentName"}})],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeDepartment}},[t._v("\n                        Cancel\n                      ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.saveDepartment}},[t._v("\n                        Save\n                      ")])],1)],1)],1)],1),t._v(" "),a("v-card-text",[a("v-data-table",{attrs:{headers:t.depHeaders,items:t.departments,loading:t.loading,"hide-actions":"",id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteDepartment(e.item)}}},r),[t._v("\n                          delete\n                        ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}])})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{attrs:{id:"table"}},[a("v-toolbar",{staticClass:"green darken-1",attrs:{flat:"",dense:""}},[a("v-toolbar-title",[t._v("Currency")]),t._v(" "),a("v-dialog",{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",color:"grey darken-3"}},n),[a("v-icon",[t._v("add")])],1)]}}]),model:{value:t.dialogCurrency,callback:function(e){t.dialogCurrency=e},expression:"dialogCurrency"}},[t._v(" "),a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n                    Add Currency\n                  ")]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Currency Name",color:"green darken-1",rules:[t.rules.required]},model:{value:t.editedCurrency.name,callback:function(e){t.$set(t.editedCurrency,"name",e)},expression:"editedCurrency.name"}})],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeCurrency}},[t._v("\n                      Cancel\n                    ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.saveCurrency}},[t._v("\n                      Save\n                    ")])],1)],1)],1)],1),t._v(" "),a("v-card-text",[a("v-data-table",{attrs:{headers:t.currHeaders,items:t.currencys,loading:t.loading,"hide-actions":"",id:"table"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[a("v-icon",t._g({attrs:{small:""},on:{click:function(a){return t.deleteCurrency(e.item)}}},r),[t._v("\n                        delete\n                      ")])]}}],null,!0)},[t._v(" "),a("span",[t._v("Delete")])])],1)]}}])})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialogColor,callback:function(e){t.dialogColor=e},expression:"dialogColor"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Edit Color\n      ")]),t._v(" "),a("v-card-text",[a("v-flex",{attrs:{xs12:"",id:"color"}},[a("h3",[t._v("Select a Color:")]),t._v(" "),a("swatches",{attrs:{inline:""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.closeDivision}},[t._v("\n          Cancel\n        ")]),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:t.saveColor}},[t._v("\n          Save\n        ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"1000"},model:{value:t.dialogContracts,callback:function(e){t.dialogContracts=e},expression:"dialogContracts"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey darken-3 white--text",attrs:{"primary-title":""}},[t._v("\n        Active Contracts\n      ")]),t._v(" "),a("v-card-text",[a("v-flex",{attrs:{xs4:"",id:"search"}},[a("v-text-field",{attrs:{color:"grey darken-3","append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.contractSearch,callback:function(e){t.contractSearch=e},expression:"contractSearch"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.contractHeaders,items:t.contracts,loading:t.loadingContracts,search:t.contractSearch,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.vendorName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.contractDes))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.capexId))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.poNumber))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.companyName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.departmentName))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expDate))]),t._v(" "),a("td",{staticClass:"justify-center"},[a("v-btn",{attrs:{color:"info",small:""},on:{click:function(a){return t.router(e.item)}}},[t._v("\n                more info\n              ")])],1)]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('\n              Your search for "'+t._s(t.contractSearch)+'" found no results.\n            ')])]},proxy:!0}])})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-3",flat:""},on:{click:function(e){t.dialogContracts=!1,t.loadingContracts=!0}}},[t._v("\n          Close\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var Ft=a("VU/8")(Ut,Tt,!1,function(t){a("K6t1")},"data-v-e43293a4",null).exports;n.default.use(c.a);var Pt=new c.a({routes:[{path:"/",name:"HelloWorld",component:V},{path:"/login",name:"Login",component:q},{path:"/contracts",name:"Contracts",component:J},{path:"/calendar",name:"Calendar",component:it},{path:"/vendors",name:"Vendors",component:ft},{path:"/users",name:"Users",component:Ft}]}),Ot=a("3EgV"),Et=a.n(Ot),Vt=a("9JMe"),zt=a("NYxO"),Lt=a("424j"),Ht=a("lbHh");n.default.use(zt.a);var qt=new zt.a.Store({strict:!0,plugins:[Object(Lt.a)({storage:{getItem:function(t){return Ht.get(t)},setItem:function(t,e){return Ht.set(t,e,{expires:.5,secure:!1})},removeItem:function(t){return Ht.remove(t)}}})],state:{admin:null,user:"Username",token:null,adminToken:null,isUserLoggedIn:!0},mutations:{setAdmin:function(t,e){t.admin=e},setUser:function(t,e){t.user=e},setToken:function(t,e){t.token=e,t.isUserLoggedIn=!0},setAdminToken:function(t,e){t.adminToken=e}},actions:{setAdmin:function(t,e){(0,t.commit)("setAdmin",e)},setUser:function(t,e){(0,t.commit)("setUser",e)},setToken:function(t,e){(0,t.commit)("setToken",e)},setAdminToken:function(t,e){(0,t.commit)("setAdminToken",e)}},getters:{getStatus:function(t){return t.isUserLoggedIn},isAdmin:function(t){return t.admin}}});a("7zck"),a("gJtD");n.default.config.productionTip=!1,n.default.use(Et.a),Object(Vt.sync)(qt,Pt),new n.default({el:"#app",router:Pt,store:qt,components:{App:i},template:"<App/>"})},TVmP:function(t,e,a){"use strict";var n=a("UthT"),r=a.n(n),s=a("Gu0b");var o=function(t){a("Hoxl")},i=a("VU/8")(r.a,s.a,!1,o,"data-v-15f6899e",null);e.default=i.exports},UthT:function(t,e){},dzyU:function(t,e){},gJtD:function(t,e){},gpvG:function(t,e){},mUlC:function(t,e){},peKb:function(t,e){},u01n:function(t,e){},uslO:function(t,e,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(t){return a(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.02970d37ba809ded72ad.js.map